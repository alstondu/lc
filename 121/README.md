# 121. 买卖股票的最佳时机

[Leedcode 链接🔗](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/description/)  
[Code](https://github.com/alstondu/lc/blob/main/121/121.cpp)

### 题目

给定一个数组 ```prices``` ，它的第 ```i``` 个元素 ```prices[i]``` 表示一支给定股票第 ```i``` 天的价格。

你只能选择某一天买入这只股票，并选择在未来的某一个不同的日子卖出该股票。设计一个算法来计算你所能获取的最大利润。

返回你可以从这笔交易中获取的最大利润。如果你不能获取任何利润，返回 0 。

---

#### 示例：

#### 示例 1：

**输入**：```[7,1,5,3,6,4]```

**输出**：```5```

**解释**：
在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。

注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。

#### 示例 2：

**输入**：```prices = [7,6,4,3,1]```

**输出**：```0```

**解释**：在这种情况下, 没有交易完成, 所以最大利润为 0。

---

### 算法:

一只股票，只能买卖一次。
 
1.  ```dp```数组定义：
	
	```dp[i][0]```表示在第 ```i``` 天，持有股票所能获得的最大利润，分为两种情况：
		
		第 i - 1 天就持有股票了
		第 i - 1 天不持有股票，股票是第 i 天买的
		
	```dp[i][1]```表示在第 ```i``` 天，不持有股票所能获得的最大利润，分为两种情况：
		
		第 i - 1 天就不持有股票了，说明股票之前就卖了
		第 i - 1 天还持有股票，股票是第 i 天卖的
		  		  	 
2. 递推公式：
	
	根据 ```dp``` 数组的定义，每一天是否持有股票的最大利润可以由各自的两种情况取大者得来：
	
	```dp[i][0] = max(dp[i - 1][0], - prices[i])```
	```- prices[i]``` 表示第 i 天购买股票，要花钱，利润为负值。
	
	```dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] + prices[i])```
	如果当天卖出的话，说明前一天还持有，所以是前一天持有的最大利润加上当天股票价格代表今天卖出后的最大利润。

  
3. ```dp``` 数组初始化：

	当前 ```dp```由前一天的状态推导而来，因此要初始化 ```dp[0][0]``` 和 ```dp[0][1]```。```dp[0][0]``` 表示第一天持有股票的最大利润，因此是买入股票，初始化为 ```-prices[0]```, ```dp[0][1]```表示第一天不持有股票的利润，为 0。

4. 遍历顺序：
	
	从前向后遍历。
  
5. 打印```dp```数组