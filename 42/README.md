# 42. 接雨水

[Leedcode 链接🔗](https://leetcode.cn/problems/trapping-rain-water/description/)  
[Code](https://github.com/alstondu/lc/blob/main/42/42.cpp)

### 题目

给定 `n` 个非负整数表示每个宽度为 `1` 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。

---

#### 示例：

#### 示例 1:

<img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png" style="height: 161px; width: 412px;">

**输入**：`height = [0,1,0,2,1,0,1,3,2,1,2,1]`

**输出**：`6`

#### 示例 2:

**输入**: `height = [4,2,0,3,2,5]`

**输出**: `9`

---

### 算法:

横向一层一层求解雨水面积。

利用单调栈，找到右边第一个最大元素之后，弹出当前元素，栈口就是左边第一个最大元素。较小者减去当前元素就是雨水的高，二者下标差值 - 1 就是雨水的宽，相乘得到雨水面积。

继续用当前的这个右边最大元素进行比较（while）此时的当前元素是上一轮的左边最大元素，直到栈内没有比它小的，说明之前的水坑面积都算完了，然后把它入栈。循环的过程中如果遇到平底，也就是栈内元素相同，那么其左右最小值减去自身就是 0， 相当于被跳过，但是计算宽度的时候使用下标会加一，最终面积就会相应变大。
