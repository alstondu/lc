# 18. 四数之和

[Leedcode 链接🔗](# 454. 四数相加II

[Leedcode 链接🔗](https://leetcode.cn/problems/4sum-ii/)  
[Code](https://github.com/alstondu/lc/blob/main/18/18.cpp)

### 题目

给定一个包含 ```n``` 个整数的数组 ```nums``` 和一个目标值 ```target```，判断 ```nums``` 中是否存在四个元素 ```a，b，c, d``` ，使得 ```a + b + c + d = target```？找出所有满足条件且**不重复**的四元组。


#### 示例：
给定数组 ````nums = [1, 0, -1, 0, -2, 2]```，```target = 0```

满足要求的四元组集合为： ```[ [-1, 0, 0, 1], [-2, -1, 1, 2], [-2, 0, 0, 2] ]```


### 算法：双指针

四数之和的解法与[Lc. 15 三数之和](https://github.com/alstondu/lc/blob/main/15/README.md)一致, 额外套一层 ```for``` 循环，使得两层 ```for``` 循环遍历前两个数，内部两个指针移动来使得四数之和等于 ```target```。

每一层 ```for``` 循环都需要有各自的剪枝和去重操作。去重逻辑与三数之和相同。

#### 剪枝
三数之和中，```target``` 为 ```0```， 因此在外层 ```for``` 循环遍历 ```a``` 的时候，如果 ```a``` 作为最小的数本身已经大于 ```0``` 了，循环可以直接结束返还空集。

但是四数之和中，由于 ```target``` 可能为负数， 当 ```a > target``` 时， 若后续的数也存在负数，其与 ```a``` 的和可能比 ```a``` 更小以至于小于 ```target```。 因此，只有在当前已知的数字和大于 ```0``` 且大于 ```target``` 时才能断定后续不会有其他组合满足题意。